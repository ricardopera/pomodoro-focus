{
  "version": 3,
  "sources": ["../../src/main/index.ts", "../../src/main/ipc.ts", "../../src/shared/constants.ts", "../../src/main/store.ts", "../../src/main/timer.ts", "../../src/main/statistics.ts", "../../src/main/tray.ts", "../../src/main/notifications.ts"],
  "sourcesContent": ["import { app, BrowserWindow, ipcMain } from 'electron';\r\nimport path from 'path';\r\nimport { setupIpcHandlers, cleanupIpcHandlers } from './ipc';\r\nimport { createTray, updateTrayMenu, updateTrayTitle, destroyTray } from './tray';\r\nimport { showTimerCompleteNotification } from './notifications';\r\nimport { getSettings } from './store';\r\nimport { setTimerTickCallback, setTimerCompleteCallback } from './timer';\r\nimport type { AppState } from '@shared/types';\r\n\r\nlet mainWindow: BrowserWindow | null = null;\r\nlet isQuitting = false;\r\n\r\n// Enable verbose logging\r\napp.commandLine.appendSwitch('enable-logging');\r\napp.commandLine.appendSwitch('v', '1');\r\n\r\n// Handle uncaught exceptions\r\nprocess.on('uncaughtException', (error) => {\r\n  console.error('[MAIN] Uncaught Exception:', error);\r\n});\r\n\r\nprocess.on('unhandledRejection', (reason, promise) => {\r\n  console.error('[MAIN] Unhandled Rejection at:', promise, 'reason:', reason);\r\n});\r\n\r\napp.on('will-quit', () => {\r\n  console.log('[MAIN] will-quit event');\r\n});\r\n\r\napp.on('quit', () => {\r\n  console.log('[MAIN] quit event');\r\n  ipcMain.removeAllListeners();\r\n});\r\n\r\nfunction createWindow(): BrowserWindow {\r\n  console.log('[MAIN] Creating window...');\r\n  const settings = getSettings();\r\n  console.log('[MAIN] Settings loaded:', settings);\r\n\r\n  mainWindow = new BrowserWindow({\r\n    width: 400,\r\n    height: 600,\r\n    minWidth: 350,\r\n    minHeight: 500,\r\n    frame: true,\r\n    resizable: true,\r\n    webPreferences: {\r\n      preload: path.join(__dirname, '../preload/index.cjs'),\r\n      contextIsolation: true,\r\n      nodeIntegration: false,\r\n      sandbox: false, // Disabled for debugging - may cause issues on Windows\r\n    },\r\n    // show: false, // Show immediately for debugging\r\n  });\r\n\r\n  // Load the app\r\n  // electron-vite sets ELECTRON_RENDERER_URL in development\r\n  console.log('[MAIN] Loading URL...');\r\n  if (false && process.env.ELECTRON_RENDERER_URL) {\r\n    mainWindow.loadURL(process.env.ELECTRON_RENDERER_URL);\r\n    mainWindow.webContents.openDevTools();\r\n  } else {\r\n    // Load test HTML for debugging\r\n    mainWindow.loadFile(path.join(__dirname, '../../test.html'));\r\n    console.log('[MAIN] Loaded test.html');\r\n  }\r\n\r\n  // Show window when ready\r\n  // Disabled for debugging - window shows immediately now\r\n  /*\r\n  mainWindow.once('ready-to-show', () => {\r\n    console.log('[MAIN] Window ready-to-show');\r\n    mainWindow?.show();\r\n    mainWindow?.focus();\r\n  });\r\n  */\r\n\r\n  // Handle minimize to tray\r\n  mainWindow.on('close', (event) => {\r\n    console.log('[MAIN] Window close event, isQuitting:', isQuitting, 'minimizeToTray:', settings.minimizeToTray);\r\n    console.trace('[MAIN] Close event stack trace');\r\n    if (false && settings.minimizeToTray && !isQuitting) { // Temporarily disabled for testing\r\n      event.preventDefault();\r\n      mainWindow?.hide();\r\n      console.log('[MAIN] Window hidden');\r\n    }\r\n  });\r\n\r\n  mainWindow.on('closed', () => {\r\n    console.log('[MAIN] Window closed event');\r\n    mainWindow = null;\r\n  });\r\n\r\n  // Listen for crashes or errors\r\n  mainWindow.webContents.on('did-fail-load', (_event, errorCode, errorDescription) => {\r\n    console.error('[MAIN] Failed to load:', errorCode, errorDescription);\r\n  });\r\n\r\n  mainWindow.webContents.on('crashed', () => {\r\n    console.error('[MAIN] Renderer process crashed');\r\n  });\r\n\r\n  mainWindow.webContents.on('did-finish-load', () => {\r\n    console.log('[MAIN] Page finished loading');\r\n  });\r\n\r\n  mainWindow.webContents.on('dom-ready', () => {\r\n    console.log('[MAIN] DOM ready');\r\n  });\r\n\r\n  mainWindow.on('unresponsive', () => {\r\n    console.error('[MAIN] Window became unresponsive');\r\n  });\r\n\r\n  mainWindow.on('responsive', () => {\r\n    console.log('[MAIN] Window became responsive again');\r\n  });\r\n\r\n  return mainWindow;\r\n}\r\n\r\n// App lifecycle\r\napp.whenReady().then(() => {\r\n  console.log('[MAIN] App is ready');\r\n  console.log('[MAIN] ELECTRON_RENDERER_URL:', process.env.ELECTRON_RENDERER_URL);\r\n  \r\n  try {\r\n    const window = createWindow();\r\n    console.log('[MAIN] Window created');\r\n\r\n    // Setup IPC handlers\r\n    setupIpcHandlers(window);\r\n    console.log('[MAIN] IPC handlers setup');\r\n\r\n    // Create tray icon\r\n    // Temporarily disabled for debugging\r\n    // createTray(window);\r\n    console.log('[MAIN] Tray creation skipped for debugging');\r\n\r\n    // Setup timer callbacks for UI updates\r\n    setTimerTickCallback((state: AppState) => {\r\n      updateTrayMenu(state.currentState);\r\n      updateTrayTitle(state.timeLeft);\r\n    });\r\n\r\n    setTimerCompleteCallback(() => {\r\n      const state = window.webContents.executeJavaScript('window.__currentTimerType');\r\n      state.then((timerType) => {\r\n        if (timerType) {\r\n          showTimerCompleteNotification(timerType);\r\n        }\r\n      }).catch(() => {\r\n        // Ignore errors\r\n      });\r\n    });\r\n\r\n    app.on('activate', () => {\r\n      if (BrowserWindow.getAllWindows().length === 0) {\r\n        createWindow();\r\n      } else if (mainWindow) {\r\n        mainWindow.show();\r\n        mainWindow.focus();\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.error('[MAIN] Error during initialization:', error);\r\n    // app.quit(); // Disabled for debugging\r\n  }\r\n});\r\n\r\napp.on('window-all-closed', () => {\r\n  console.log('[MAIN] window-all-closed event, platform:', process.platform);\r\n  // Temporarily disabled for debugging\r\n  // if (process.platform !== 'darwin') {\r\n  //   console.log('[MAIN] Quitting app');\r\n  //   app.quit();\r\n  // }\r\n});\r\n\r\napp.on('before-quit', () => {\r\n  isQuitting = true;\r\n  cleanupIpcHandlers();\r\n  destroyTray();\r\n});\r\n\r\n// Quit when all windows are closed, except on macOS\r\napp.on('quit', () => {\r\n  ipcMain.removeAllListeners();\r\n});\r\n", "import { ipcMain, BrowserWindow } from 'electron';\r\nimport { IPC_CHANNELS } from '@shared/constants';\r\nimport type { AppState, Settings, Session, Statistics } from '@shared/types';\r\nimport { getSettings, updateSettings, resetSettings, getSessions } from './store';\r\nimport { \r\n  startTimer, \r\n  pauseTimer, \r\n  resumeTimer, \r\n  resetTimer,\r\n  setTimerTickCallback,\r\n  setTimerCompleteCallback,\r\n} from './timer';\r\nimport { calculateStatistics } from './statistics';\r\n\r\nlet mainWindow: BrowserWindow | null = null;\r\n\r\nexport function setupIpcHandlers(window: BrowserWindow): void {\r\n  mainWindow = window;\r\n\r\n  // Setup timer callbacks to send events to renderer\r\n  setTimerTickCallback((state: AppState) => {\r\n    if (mainWindow && !mainWindow.isDestroyed()) {\r\n      mainWindow.webContents.send(IPC_CHANNELS.TIMER_TICK, state);\r\n    }\r\n  });\r\n\r\n  setTimerCompleteCallback(() => {\r\n    if (mainWindow && !mainWindow.isDestroyed()) {\r\n      mainWindow.webContents.send(IPC_CHANNELS.TIMER_COMPLETE);\r\n    }\r\n  });\r\n\r\n  // Settings handlers\r\n  ipcMain.handle(IPC_CHANNELS.SETTINGS_GET, (): Settings => {\r\n    return getSettings();\r\n  });\r\n\r\n  ipcMain.handle(IPC_CHANNELS.SETTINGS_UPDATE, (_event, partial: Partial<Settings>): Settings => {\r\n    const updated = updateSettings(partial);\r\n    \r\n    // Notify renderer of settings change\r\n    if (mainWindow && !mainWindow.isDestroyed()) {\r\n      mainWindow.webContents.send(IPC_CHANNELS.SETTINGS_CHANGED, updated);\r\n    }\r\n    \r\n    return updated;\r\n  });\r\n\r\n  ipcMain.handle(IPC_CHANNELS.SETTINGS_RESET, (): Settings => {\r\n    const defaults = resetSettings();\r\n    \r\n    // Notify renderer of settings change\r\n    if (mainWindow && !mainWindow.isDestroyed()) {\r\n      mainWindow.webContents.send(IPC_CHANNELS.SETTINGS_CHANGED, defaults);\r\n    }\r\n    \r\n    return defaults;\r\n  });\r\n\r\n  // Timer handlers\r\n  ipcMain.handle(IPC_CHANNELS.TIMER_START, (_event, type: 'focus' | 'break-short' | 'break-long'): AppState => {\r\n    const settings = getSettings();\r\n    const duration = type === 'focus' ? settings.focusDuration :\r\n                     type === 'break-short' ? settings.shortBreakDuration :\r\n                     settings.longBreakDuration;\r\n    \r\n    return startTimer(type, duration);\r\n  });\r\n\r\n  ipcMain.handle(IPC_CHANNELS.TIMER_PAUSE, (): AppState => {\r\n    return pauseTimer();\r\n  });\r\n\r\n  ipcMain.handle(IPC_CHANNELS.TIMER_RESUME, (): AppState => {\r\n    return resumeTimer();\r\n  });\r\n\r\n  ipcMain.handle(IPC_CHANNELS.TIMER_RESET, (): AppState => {\r\n    return resetTimer();\r\n  });\r\n\r\n  // Sessions handler\r\n  ipcMain.handle(IPC_CHANNELS.SESSIONS_GET, (): Session[] => {\r\n    return getSessions();\r\n  });\r\n\r\n  // Statistics handler\r\n  ipcMain.handle(IPC_CHANNELS.STATISTICS_GET, (): Statistics => {\r\n    return calculateStatistics();\r\n  });\r\n}\r\n\r\nexport function cleanupIpcHandlers(): void {\r\n  // Remove all handlers\r\n  ipcMain.removeHandler(IPC_CHANNELS.SETTINGS_GET);\r\n  ipcMain.removeHandler(IPC_CHANNELS.SETTINGS_UPDATE);\r\n  ipcMain.removeHandler(IPC_CHANNELS.SETTINGS_RESET);\r\n  ipcMain.removeHandler(IPC_CHANNELS.TIMER_START);\r\n  ipcMain.removeHandler(IPC_CHANNELS.TIMER_PAUSE);\r\n  ipcMain.removeHandler(IPC_CHANNELS.TIMER_RESUME);\r\n  ipcMain.removeHandler(IPC_CHANNELS.TIMER_RESET);\r\n  ipcMain.removeHandler(IPC_CHANNELS.SESSIONS_GET);\r\n  ipcMain.removeHandler(IPC_CHANNELS.STATISTICS_GET);\r\n  \r\n  mainWindow = null;\r\n}\r\n", "import type { Settings } from './types';\r\n\r\n// Default settings values\r\nexport const DEFAULT_SETTINGS: Settings = {\r\n  focusDuration: 25,\r\n  shortBreakDuration: 5,\r\n  longBreakDuration: 15,\r\n  sessionsBeforeLongBreak: 4,\r\n  theme: 'system',\r\n  notificationsEnabled: true,\r\n  soundEnabled: true,\r\n  minimizeToTray: true,\r\n  autoStartBreaks: true,\r\n  autoStartFocus: false,\r\n};\r\n\r\n// Timer states\r\nexport const TIMER_STATES = {\r\n  IDLE: 'idle' as const,\r\n  FOCUS: 'focus' as const,\r\n  BREAK_SHORT: 'break-short' as const,\r\n  BREAK_LONG: 'break-long' as const,\r\n};\r\n\r\n// IPC Channel names\r\nexport const IPC_CHANNELS = {\r\n  // Settings\r\n  SETTINGS_GET: 'settings:get',\r\n  SETTINGS_UPDATE: 'settings:update',\r\n  SETTINGS_RESET: 'settings:reset',\r\n  SETTINGS_CHANGED: 'settings:changed',\r\n\r\n  // Timer\r\n  TIMER_START: 'timer:start',\r\n  TIMER_PAUSE: 'timer:pause',\r\n  TIMER_RESUME: 'timer:resume',\r\n  TIMER_RESET: 'timer:reset',\r\n  TIMER_TICK: 'timer:tick',\r\n  TIMER_COMPLETE: 'timer:complete',\r\n\r\n  // Sessions\r\n  SESSIONS_GET: 'sessions:get',\r\n  \r\n  // Statistics\r\n  STATISTICS_GET: 'statistics:get',\r\n} as const;\r\n\r\n// Validation constants\r\nexport const VALIDATION = {\r\n  FOCUS_DURATION_MIN: 1,\r\n  FOCUS_DURATION_MAX: 60,\r\n  SHORT_BREAK_MIN: 1,\r\n  SHORT_BREAK_MAX: 30,\r\n  LONG_BREAK_MIN: 5,\r\n  LONG_BREAK_MAX: 60,\r\n  SESSIONS_BEFORE_LONG_BREAK_MIN: 2,\r\n  SESSIONS_BEFORE_LONG_BREAK_MAX: 10,\r\n} as const;\r\n\r\n// Performance targets\r\nexport const PERFORMANCE = {\r\n  STARTUP_TARGET_MS: 200,\r\n  MEMORY_TARGET_MB: 100,\r\n  TIMER_PRECISION_TOLERANCE_MS: 2000, // \u00B12s in 25min\r\n} as const;\r\n", "import Store from 'electron-store';\r\nimport type { Settings, Session } from '@shared/types';\r\nimport { DEFAULT_SETTINGS, VALIDATION } from '@shared/constants';\r\n\r\n// Schema for electron-store validation\r\nconst schema = {\r\n  settings: {\r\n    type: 'object',\r\n    properties: {\r\n      focusDuration: { type: 'number', minimum: VALIDATION.FOCUS_DURATION_MIN, maximum: VALIDATION.FOCUS_DURATION_MAX },\r\n      shortBreakDuration: { type: 'number', minimum: VALIDATION.SHORT_BREAK_MIN, maximum: VALIDATION.SHORT_BREAK_MAX },\r\n      longBreakDuration: { type: 'number', minimum: VALIDATION.LONG_BREAK_MIN, maximum: VALIDATION.LONG_BREAK_MAX },\r\n      sessionsBeforeLongBreak: { type: 'number', minimum: VALIDATION.SESSIONS_BEFORE_LONG_BREAK_MIN, maximum: VALIDATION.SESSIONS_BEFORE_LONG_BREAK_MAX },\r\n      theme: { type: 'string', enum: ['light', 'dark', 'system'] },\r\n      notificationsEnabled: { type: 'boolean' },\r\n      soundEnabled: { type: 'boolean' },\r\n      minimizeToTray: { type: 'boolean' },\r\n      autoStartBreaks: { type: 'boolean' },\r\n      autoStartFocus: { type: 'boolean' },\r\n    },\r\n    required: [\r\n      'focusDuration',\r\n      'shortBreakDuration',\r\n      'longBreakDuration',\r\n      'sessionsBeforeLongBreak',\r\n      'theme',\r\n      'notificationsEnabled',\r\n      'soundEnabled',\r\n      'minimizeToTray',\r\n      'autoStartBreaks',\r\n      'autoStartFocus',\r\n    ],\r\n  },\r\n  sessions: {\r\n    type: 'array',\r\n    items: {\r\n      type: 'object',\r\n      properties: {\r\n        id: { type: 'string' },\r\n        type: { type: 'string', enum: ['focus', 'break-short', 'break-long'] },\r\n        startedAt: { type: 'string' },\r\n        completedAt: { type: 'string' },\r\n        duration: { type: 'number' },\r\n        wasCompleted: { type: 'boolean' },\r\n        wasInterrupted: { type: 'boolean' },\r\n        interruptions: { type: 'number', minimum: 0 },\r\n      },\r\n      required: ['id', 'type', 'startedAt', 'completedAt', 'duration', 'wasCompleted', 'wasInterrupted', 'interruptions'],\r\n    },\r\n  },\r\n} as const;\r\n\r\ninterface StoreSchema {\r\n  settings: Settings;\r\n  sessions: Session[];\r\n}\r\n\r\n// Initialize electron-store with schema and defaults\r\nconst store = new Store<StoreSchema>({\r\n  schema: schema as any, // electron-store schema typing is complex\r\n  defaults: {\r\n    settings: DEFAULT_SETTINGS,\r\n    sessions: [],\r\n  },\r\n  name: 'pomodoro-focus',\r\n});\r\n\r\n// Settings operations\r\nexport function getSettings(): Settings {\r\n  return store.get('settings', DEFAULT_SETTINGS);\r\n}\r\n\r\nexport function updateSettings(partial: Partial<Settings>): Settings {\r\n  const current = getSettings();\r\n  const updated = { ...current, ...partial };\r\n  store.set('settings', updated);\r\n  return updated;\r\n}\r\n\r\nexport function resetSettings(): Settings {\r\n  store.set('settings', DEFAULT_SETTINGS);\r\n  return DEFAULT_SETTINGS;\r\n}\r\n\r\n// Session operations\r\nexport function getSessions(): Session[] {\r\n  return store.get('sessions', []);\r\n}\r\n\r\nexport function addSession(session: Session): void {\r\n  const sessions = getSessions();\r\n  sessions.push(session);\r\n  store.set('sessions', sessions);\r\n}\r\n\r\nexport function clearSessions(): void {\r\n  store.set('sessions', []);\r\n}\r\n\r\n// Export store instance for advanced usage if needed\r\nexport default store;\r\n", "import type { AppState, Session } from '@shared/types';\r\nimport { TIMER_STATES } from '@shared/constants';\r\nimport { addSession } from './store';\r\n\r\nlet timerInterval: NodeJS.Timeout | null = null;\r\nlet appState: AppState = {\r\n  currentState: TIMER_STATES.IDLE,\r\n  timeLeft: 0,\r\n  sessionsCompleted: 0,\r\n  isPaused: false,\r\n  startTimestamp: null,\r\n};\r\nlet currentSessionId: string | null = null;\r\n\r\ntype TimerTickCallback = (state: AppState) => void;\r\ntype TimerCompleteCallback = () => void;\r\n\r\nlet onTick: TimerTickCallback | null = null;\r\nlet onComplete: TimerCompleteCallback | null = null;\r\n\r\n// Session tracking\r\nlet sessionStartedAt: Date | null = null;\r\nlet sessionInterruptions = 0;\r\nlet plannedDurationMinutes = 0;\r\n\r\nexport function setTimerTickCallback(callback: TimerTickCallback): void {\r\n  onTick = callback;\r\n}\r\n\r\nexport function setTimerCompleteCallback(callback: TimerCompleteCallback): void {\r\n  onComplete = callback;\r\n}\r\n\r\nexport function getAppState(): AppState {\r\n  return { ...appState };\r\n}\r\n\r\nexport function startTimer(type: 'focus' | 'break-short' | 'break-long', durationMinutes: number): AppState {\r\n  stopTimer(); // Clear any existing timer\r\n\r\n  const state = type === 'focus' ? TIMER_STATES.FOCUS : \r\n                type === 'break-short' ? TIMER_STATES.BREAK_SHORT : \r\n                TIMER_STATES.BREAK_LONG;\r\n\r\n  const now = Date.now();\r\n  appState = {\r\n    currentState: state,\r\n    timeLeft: durationMinutes * 60 * 1000, // Convert to milliseconds\r\n    sessionsCompleted: appState.sessionsCompleted,\r\n    isPaused: false,\r\n    startTimestamp: now,\r\n  };\r\n\r\n  currentSessionId = generateSessionId();\r\n  sessionStartedAt = new Date(now);\r\n  sessionInterruptions = 0;\r\n  plannedDurationMinutes = durationMinutes;\r\n\r\n  timerInterval = setInterval(() => {\r\n    if (!appState.isPaused) {\r\n      appState.timeLeft = Math.max(0, appState.timeLeft - 1000);\r\n\r\n      if (onTick) {\r\n        onTick({ ...appState });\r\n      }\r\n\r\n      if (appState.timeLeft <= 0) {\r\n        completeTimer(true);\r\n      }\r\n    }\r\n  }, 1000);\r\n\r\n  if (onTick) {\r\n    onTick({ ...appState });\r\n  }\r\n\r\n  return { ...appState };\r\n}\r\n\r\nexport function pauseTimer(): AppState {\r\n  if (appState.currentState === TIMER_STATES.IDLE) {\r\n    return { ...appState };\r\n  }\r\n\r\n  appState.isPaused = true;\r\n  sessionInterruptions++;\r\n\r\n  if (onTick) {\r\n    onTick({ ...appState });\r\n  }\r\n\r\n  return { ...appState };\r\n}\r\n\r\nexport function resumeTimer(): AppState {\r\n  if (appState.currentState === TIMER_STATES.IDLE || !appState.isPaused) {\r\n    return { ...appState };\r\n  }\r\n\r\n  appState.isPaused = false;\r\n\r\n  if (onTick) {\r\n    onTick({ ...appState });\r\n  }\r\n\r\n  return { ...appState };\r\n}\r\n\r\nexport function resetTimer(): AppState {\r\n  stopTimer();\r\n\r\n  // Save incomplete session if there was one\r\n  if (currentSessionId && sessionStartedAt) {\r\n    const endTime = new Date();\r\n    const actualDuration = Math.round((endTime.getTime() - sessionStartedAt.getTime()) / 1000 / 60);\r\n\r\n    const session: Session = {\r\n      id: currentSessionId,\r\n      type: appState.currentState === TIMER_STATES.FOCUS ? 'focus' :\r\n            appState.currentState === TIMER_STATES.BREAK_SHORT ? 'break-short' :\r\n            'break-long',\r\n      plannedDuration: plannedDurationMinutes,\r\n      actualDuration,\r\n      startTime: sessionStartedAt.toISOString(),\r\n      endTime: endTime.toISOString(),\r\n      completed: false,\r\n      interrupted: true,\r\n    };\r\n    addSession(session);\r\n  }\r\n\r\n  appState = {\r\n    currentState: TIMER_STATES.IDLE,\r\n    timeLeft: 0,\r\n    sessionsCompleted: appState.sessionsCompleted,\r\n    isPaused: false,\r\n    startTimestamp: null,\r\n  };\r\n\r\n  currentSessionId = null;\r\n  sessionStartedAt = null;\r\n  sessionInterruptions = 0;\r\n  plannedDurationMinutes = 0;\r\n\r\n  if (onTick) {\r\n    onTick({ ...appState });\r\n  }\r\n\r\n  return { ...appState };\r\n}\r\n\r\nfunction stopTimer(): void {\r\n  if (timerInterval) {\r\n    clearInterval(timerInterval);\r\n    timerInterval = null;\r\n  }\r\n}\r\n\r\nfunction completeTimer(wasCompleted: boolean): void {\r\n  stopTimer();\r\n\r\n  if (currentSessionId && sessionStartedAt) {\r\n    const endTime = new Date();\r\n    const actualDuration = Math.round((endTime.getTime() - sessionStartedAt.getTime()) / 1000 / 60);\r\n\r\n    const session: Session = {\r\n      id: currentSessionId,\r\n      type: appState.currentState === TIMER_STATES.FOCUS ? 'focus' :\r\n            appState.currentState === TIMER_STATES.BREAK_SHORT ? 'break-short' :\r\n            'break-long',\r\n      plannedDuration: plannedDurationMinutes,\r\n      actualDuration,\r\n      startTime: sessionStartedAt.toISOString(),\r\n      endTime: endTime.toISOString(),\r\n      completed: wasCompleted,\r\n      interrupted: !wasCompleted,\r\n    };\r\n    addSession(session);\r\n\r\n    // Increment completed sessions counter only for completed focus sessions\r\n    if (wasCompleted && appState.currentState === TIMER_STATES.FOCUS) {\r\n      appState.sessionsCompleted = (appState.sessionsCompleted + 1) % 4; // Reset to 0 after 4\r\n    }\r\n  }\r\n\r\n  appState = {\r\n    currentState: TIMER_STATES.IDLE,\r\n    timeLeft: 0,\r\n    sessionsCompleted: appState.sessionsCompleted,\r\n    isPaused: false,\r\n    startTimestamp: null,\r\n  };\r\n\r\n  currentSessionId = null;\r\n  sessionStartedAt = null;\r\n  sessionInterruptions = 0;\r\n  plannedDurationMinutes = 0;\r\n\r\n  if (onComplete) {\r\n    onComplete();\r\n  }\r\n\r\n  if (onTick) {\r\n    onTick({ ...appState });\r\n  }\r\n}\r\n\r\nfunction generateSessionId(): string {\r\n  return `session-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;\r\n}\r\n\r\n", "import type { Session, Statistics } from '@shared/types';\r\nimport { getSessions } from './store';\r\n\r\nexport function calculateStatistics(): Statistics {\r\n  const sessions = getSessions();\r\n  const now = new Date();\r\n  \r\n  // Today's data (midnight to now)\r\n  const todayStart = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n  const todaySessions = sessions.filter(s => {\r\n    const sessionDate = new Date(s.startTime);\r\n    return sessionDate >= todayStart && s.type === 'focus' && s.completed;\r\n  });\r\n  \r\n  const todayFocusMinutes = todaySessions.reduce((sum, s) => sum + s.actualDuration, 0);\r\n  const todaySessionsCompleted = todaySessions.length;\r\n  \r\n  // This week's data (Monday to now)\r\n  const weekStart = getMonday(now);\r\n  const weekSessions = sessions.filter(s => {\r\n    const sessionDate = new Date(s.startTime);\r\n    return sessionDate >= weekStart && s.type === 'focus' && s.completed;\r\n  });\r\n  \r\n  const weekFocusMinutes = weekSessions.reduce((sum, s) => sum + s.actualDuration, 0);\r\n  const weekSessionsCompleted = weekSessions.length;\r\n  \r\n  // Streak calculation\r\n  const { currentStreak, longestStreak } = calculateStreaks(sessions);\r\n  \r\n  return {\r\n    todayFocusMinutes,\r\n    todaySessionsCompleted,\r\n    weekFocusMinutes,\r\n    weekSessionsCompleted,\r\n    currentStreak,\r\n    longestStreak,\r\n  };\r\n}\r\n\r\nfunction getMonday(date: Date): Date {\r\n  const d = new Date(date);\r\n  const day = d.getDay();\r\n  const diff = d.getDate() - day + (day === 0 ? -6 : 1); // Adjust when Sunday\r\n  return new Date(d.setDate(diff));\r\n}\r\n\r\nfunction calculateStreaks(sessions: Session[]): { currentStreak: number; longestStreak: number } {\r\n  if (sessions.length === 0) {\r\n    return { currentStreak: 0, longestStreak: 0 };\r\n  }\r\n  \r\n  // Group sessions by day\r\n  const focusSessions = sessions.filter(s => s.type === 'focus' && s.completed);\r\n  const dayMap = new Map<string, boolean>();\r\n  \r\n  focusSessions.forEach(session => {\r\n    const date = new Date(session.startTime);\r\n    const dayKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;\r\n    dayMap.set(dayKey, true);\r\n  });\r\n  \r\n  const sortedDays = Array.from(dayMap.keys()).sort();\r\n  \r\n  if (sortedDays.length === 0) {\r\n    return { currentStreak: 0, longestStreak: 0 };\r\n  }\r\n  \r\n  // Calculate current streak (from today backwards)\r\n  const today = new Date();\r\n  \r\n  let currentStreak = 0;\r\n  let checkDate = new Date(today);\r\n  \r\n  while (true) {\r\n    const checkKey = `${checkDate.getFullYear()}-${String(checkDate.getMonth() + 1).padStart(2, '0')}-${String(checkDate.getDate()).padStart(2, '0')}`;\r\n    \r\n    if (dayMap.has(checkKey)) {\r\n      currentStreak++;\r\n      checkDate.setDate(checkDate.getDate() - 1);\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n  \r\n  // Calculate longest streak\r\n  let longestStreak = 0;\r\n  let tempStreak = 1;\r\n  \r\n  for (let i = 1; i < sortedDays.length; i++) {\r\n    const prevDate = new Date(sortedDays[i - 1]);\r\n    const currDate = new Date(sortedDays[i]);\r\n    \r\n    const diffDays = Math.floor((currDate.getTime() - prevDate.getTime()) / (1000 * 60 * 60 * 24));\r\n    \r\n    if (diffDays === 1) {\r\n      tempStreak++;\r\n    } else {\r\n      longestStreak = Math.max(longestStreak, tempStreak);\r\n      tempStreak = 1;\r\n    }\r\n  }\r\n  \r\n  longestStreak = Math.max(longestStreak, tempStreak);\r\n  \r\n  return { currentStreak, longestStreak };\r\n}\r\n", "import { app, Tray, Menu, nativeImage, BrowserWindow } from 'electron';\r\nimport type { AppState } from '@shared/types';\r\n\r\nlet tray: Tray | null = null;\r\nlet mainWindow: BrowserWindow | null = null;\r\n\r\nexport function createTray(window: BrowserWindow): Tray {\r\n  mainWindow = window;\r\n\r\n  // Create tray icon (will need actual icon file later)\r\n  const icon = createTrayIcon();\r\n  tray = new Tray(icon);\r\n\r\n  tray.setToolTip('Pomodoro Focus');\r\n  updateTrayMenu('idle');\r\n\r\n  // Show/hide window on tray click\r\n  tray.on('click', () => {\r\n    if (mainWindow) {\r\n      if (mainWindow.isVisible()) {\r\n        mainWindow.hide();\r\n      } else {\r\n        mainWindow.show();\r\n        mainWindow.focus();\r\n      }\r\n    }\r\n  });\r\n\r\n  return tray;\r\n}\r\n\r\nexport function updateTrayMenu(timerState: AppState['currentState']): void {\r\n  if (!tray || !mainWindow) return;\r\n\r\n  const contextMenu = Menu.buildFromTemplate([\r\n    {\r\n      label: `Status: ${formatState(timerState)}`,\r\n      enabled: false,\r\n    },\r\n    { type: 'separator' },\r\n    {\r\n      label: 'Mostrar',\r\n      click: () => {\r\n        mainWindow?.show();\r\n        mainWindow?.focus();\r\n      },\r\n    },\r\n    {\r\n      label: 'Ocultar',\r\n      click: () => {\r\n        mainWindow?.hide();\r\n      },\r\n    },\r\n    { type: 'separator' },\r\n    {\r\n      label: 'Sair',\r\n      click: () => {\r\n        app.quit();\r\n      },\r\n    },\r\n  ]);\r\n\r\n  tray.setContextMenu(contextMenu);\r\n}\r\n\r\nexport function updateTrayTitle(timeLeft: number): void {\r\n  if (!tray) return;\r\n\r\n  const minutes = Math.floor(timeLeft / 1000 / 60);\r\n  const seconds = Math.floor((timeLeft / 1000) % 60);\r\n  const timeString = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;\r\n\r\n  // On Windows/Linux, update tooltip; on macOS, update title\r\n  if (process.platform === 'darwin') {\r\n    tray.setTitle(timeString);\r\n  } else {\r\n    tray.setToolTip(`Pomodoro Focus - ${timeString}`);\r\n  }\r\n}\r\n\r\nexport function destroyTray(): void {\r\n  if (tray) {\r\n    tray.destroy();\r\n    tray = null;\r\n  }\r\n  mainWindow = null;\r\n}\r\n\r\nfunction createTrayIcon(): Electron.NativeImage {\r\n  // TODO: Replace with actual icon file\r\n  // For now, create a simple colored square as placeholder\r\n  const iconSize = 16;\r\n  const canvas = `\r\n    <svg width=\"${iconSize}\" height=\"${iconSize}\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <rect width=\"${iconSize}\" height=\"${iconSize}\" fill=\"#E74C3C\" rx=\"2\"/>\r\n      <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" dy=\".3em\" fill=\"white\" font-family=\"Arial\" font-size=\"10\" font-weight=\"bold\">P</text>\r\n    </svg>\r\n  `;\r\n\r\n  return nativeImage.createFromDataURL(\r\n    `data:image/svg+xml;base64,${Buffer.from(canvas).toString('base64')}`\r\n  );\r\n}\r\n\r\nfunction formatState(state: AppState['currentState']): string {\r\n  switch (state) {\r\n    case 'idle':\r\n      return 'Ocioso';\r\n    case 'focus':\r\n      return 'Foco';\r\n    case 'break-short':\r\n      return 'Pausa Curta';\r\n    case 'break-long':\r\n      return 'Pausa Longa';\r\n    default:\r\n      return 'Desconhecido';\r\n  }\r\n}\r\n", "import { Notification } from 'electron';\r\nimport type { SessionType } from '@shared/types';\r\nimport { getSettings } from './store';\r\n\r\nexport function showTimerCompleteNotification(sessionType: SessionType): void {\r\n  const settings = getSettings();\r\n\r\n  if (!settings.notificationsEnabled) {\r\n    return;\r\n  }\r\n\r\n  const { title, body } = getNotificationContent(sessionType);\r\n\r\n  const notification = new Notification({\r\n    title,\r\n    body,\r\n    silent: !settings.soundEnabled,\r\n    urgency: 'normal',\r\n    timeoutType: 'default',\r\n  });\r\n\r\n  notification.show();\r\n}\r\n\r\nexport function showBreakReminderNotification(): void {\r\n  const settings = getSettings();\r\n\r\n  if (!settings.notificationsEnabled) {\r\n    return;\r\n  }\r\n\r\n  const notification = new Notification({\r\n    title: 'Pausa Sugerida',\r\n    body: 'Considere fazer uma pausa para descansar os olhos e alongar.',\r\n    silent: !settings.soundEnabled,\r\n    urgency: 'low',\r\n  });\r\n\r\n  notification.show();\r\n}\r\n\r\nfunction getNotificationContent(sessionType: SessionType): { title: string; body: string } {\r\n  const settings = getSettings();\r\n\r\n  switch (sessionType) {\r\n    case 'focus':\r\n      return {\r\n        title: '\uD83C\uDF45 Sess\u00E3o de Foco Conclu\u00EDda!',\r\n        body: settings.autoStartBreaks\r\n          ? 'Excelente trabalho! A pausa iniciar\u00E1 automaticamente.'\r\n          : 'Excelente trabalho! Hora de fazer uma pausa.',\r\n      };\r\n\r\n    case 'break-short':\r\n      return {\r\n        title: '\u2615 Pausa Curta Conclu\u00EDda!',\r\n        body: settings.autoStartFocus\r\n          ? 'Pausa terminada. Pr\u00F3xima sess\u00E3o de foco iniciar\u00E1 automaticamente.'\r\n          : 'Pausa terminada. Pronto para a pr\u00F3xima sess\u00E3o de foco?',\r\n      };\r\n\r\n    case 'break-long':\r\n      return {\r\n        title: '\uD83C\uDF1F Pausa Longa Conclu\u00EDda!',\r\n        body: settings.autoStartFocus\r\n          ? '\u00D3timo descanso! Pr\u00F3xima sess\u00E3o de foco iniciar\u00E1 automaticamente.'\r\n          : '\u00D3timo descanso! Pronto para retomar o foco?',\r\n      };\r\n\r\n    default:\r\n      return {\r\n        title: 'Timer Conclu\u00EDdo',\r\n        body: 'O timer foi conclu\u00EDdo.',\r\n      };\r\n  }\r\n}\r\n"],
  "mappings": "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",
  "names": ["import_electron", "Store", "import_electron", "mainWindow", "mainWindow", "import_electron", "mainWindow", "path"]
}
